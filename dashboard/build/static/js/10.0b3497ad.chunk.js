(this.webpackJsonpredactics=this.webpackJsonpredactics||[]).push([[10],{587:function(e,t,a){"use strict";var n=a(4),i=a(29),r=a(1),s=a(0),l=(a(3),a(5)),u=a(6),o=a(550),c=s.forwardRef((function(e,t){var a,i=e.classes,u=e.className,c=e.component,p=void 0===c?"li":c,m=e.disableGutters,d=void 0!==m&&m,h=e.ListItemClasses,b=e.role,E=void 0===b?"menuitem":b,S=e.selected,y=e.tabIndex,f=Object(n.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(a=void 0!==y?y:-1),s.createElement(o.a,Object(r.a)({button:!0,role:E,tabIndex:a,component:p,selected:S,disableGutters:d,classes:Object(r.a)({dense:i.dense},h),className:Object(l.a)(i.root,u,S&&i.selected,!d&&i.gutters),ref:t},f))}));t.a=Object(u.a)((function(e){return{root:Object(r.a)({},e.typography.body1,Object(i.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(r.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(c)},598:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(59);t.a=Object(r.a)(i.a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},614:function(e,t,a){"use strict";a.r(t);var n,i,r=a(50),s=a.n(r),l=a(76),u=a(86),o=a(87),c=a(54),p=a(89),m=a(88),d=a(14),h=a(0),b=a.n(h),E=a(11),S=a(6),y=a(197),f=a.n(y),g=a(584),v=a(585),k=a(531),I=a(637),C=a(617),D=a(534),x=a(560),w=a(618),j=a(642),O=a(641),T=a(630),N=a(587),L=a(620),z=a(633),A=a(85),M=a(547),B=a(589),q=a(532),P=a(533),R=a(530),W=a(535),H=a(540),J=a(541),G=a(542),K=a(543),V=a(544),F=a(636),X=a(528),U=a(619),Y=a(621),Q=a(598),Z=a(622),$=a(624),_=a(623),ee=a(631),te=a(563),ae=a(122),ne=Object(E.c)(g.a)(te.b),ie=Object(E.c)(v.a)(te.b),re=Object(E.c)(k.a)(te.b),se=Object(E.c)(I.a)(te.b),le=Object(E.c)(C.a)(te.b),ue=Object(E.c)(le)(n||(n=Object(d.a)(["\n  min-width: 200px;\n  max-width: 200px;\n"]))),oe=Object(E.c)(se)(i||(i=Object(d.a)(["\n  width: 200px;\n"]))),ce=Object(S.a)({root:{whiteSpace:"nowrap"}})(D.a),pe=Object(E.c)(ee.a)(te.b),me=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).refreshInputs=n.refreshInputs.bind(Object(c.a)(n)),n.handleInputChanges=n.handleInputChanges.bind(Object(c.a)(n)),n.inputDialog=n.inputDialog.bind(Object(c.a)(n)),n.hideInputDialog=n.hideInputDialog.bind(Object(c.a)(n)),n.saveInputChanges=n.saveInputChanges.bind(Object(c.a)(n)),n.deleteInput=n.deleteInput.bind(Object(c.a)(n)),n.saveChanges=n.saveChanges.bind(Object(c.a)(n)),n.handleSnackbarClose=n.handleSnackbarClose.bind(Object(c.a)(n)),n.state={inputs:[],errors:{},input:{uuid:"",inputDisplayMode:"",inputType:"",inputName:"",exportData:!0,diskSize:0,enableSSL:!1,sslMode:"prefer",extensionsSchema:"public"},editInputDialog:!1,missingInput:!1,newInputKey:0,saveButtonDisabled:!0,showSnackbar:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.refreshInputs();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"refreshInputs",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(this.context.apiUrl,"/input"));case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,this.setState({inputs:a.inputs}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("CATCH ERR",e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleInputChanges",value:function(e){var t=this.state;t.input[e.target.name]="enableSSL"===e.target.name||"exportData"===e.target.name?e.target.checked:e.target.value,this.setState(t)}},{key:"inputDialog",value:function(e){e?this.setState({input:{uuid:e.uuid,inputDisplayMode:"Edit",inputType:e.inputType,inputName:e.inputName,exportData:e.exportData,diskSize:e.diskSize,enableSSL:e.enableSSL,sslMode:e.sslMode,extensionsSchema:e.extensionsSchema||"public"},editInputDialog:!0}):this.setState({input:{uuid:"new",inputDisplayMode:"Add",inputType:"",inputName:"",exportData:!0,diskSize:20,enableSSL:!1,sslMode:"prefer",extensionsSchema:"public"},editInputDialog:!0})}},{key:"hideInputDialog",value:function(){this.setState({editInputDialog:!1})}},{key:"handleSnackbarClose",value:function(){this.setState({showSnackbar:!1})}},{key:"editInputDialogContent",value:function(){var e=this;return b.a.createElement(x.a,null,b.a.createElement(x.a,{mt:4},this.state.errors.JSX,b.a.createElement(x.a,{mt:4},b.a.createElement(ue,{fullWidth:!0},b.a.createElement(oe,{error:this.state.errors.inputName,name:"inputName",label:"Input Name",value:this.state.input.inputName,onChange:function(t){return e.handleInputChanges(t)},InputProps:{endAdornment:b.a.createElement(w.a,{className:this.props.classes.selectAdornment,position:"end"},b.a.createElement(j.a,{title:"Arbitrary label for this input",placement:"right-start"},b.a.createElement(U.a,null)))}})),b.a.createElement(x.a,{mt:4},b.a.createElement(ue,{fullWidth:!0},b.a.createElement(O.a,{htmlFor:"inputType"},"Input/Database Type"),b.a.createElement(T.a,{error:this.state.errors.inputType,name:"inputType",value:this.state.input.inputType,onChange:function(t){return e.handleInputChanges(t)}},b.a.createElement(N.a,{key:"postgresql",value:"postgresql"},"PostgreSQL")))),b.a.createElement(x.a,{mt:4},b.a.createElement(L.a,{control:b.a.createElement(z.a,{checked:this.state.input.exportData,onChange:function(t){return e.handleInputChanges(t)},name:"exportData",color:"primary"}),label:"Export data from this data source"}),"\xa0",b.a.createElement(j.a,{title:"Checking this option means that you intend to export data from this data source, in which case temporary disk space will be required for this export (CSV) data",placement:"right-start"},b.a.createElement(U.a,null))),b.a.createElement(x.a,{mt:4,display:this.state.input.exportData?"block":"none"},b.a.createElement(ue,{fullWidth:!0,variant:"outlined"},b.a.createElement(oe,{error:this.state.errors.diskSize,name:"diskSize",label:"Disk Space Allocation",onChange:function(t){return e.handleInputChanges(t)},value:this.state.input.diskSize,type:"number",InputProps:{endAdornment:b.a.createElement(w.a,{className:this.props.classes.selectAdornment,position:"end"},b.a.createElement("b",null,"GB"),"\xa0\xa0",b.a.createElement(j.a,{title:"Specify an adequate amount of disk space to allocate for this export (CSV) data. A persistent volume claim will be provisioned matching this file size. You can enlarge, but not shrink this disk space in the future.",placement:"right-start"},b.a.createElement(U.a,null))),inputProps:{min:1}}}))),b.a.createElement(x.a,{mt:4},b.a.createElement(L.a,{control:b.a.createElement(z.a,{checked:this.state.input.enableSSL,onChange:function(t){return e.handleInputChanges(t)},name:"enableSSL",color:"primary"}),label:"Database Connectivity Should Be TLS/SSL Encrypted"})),b.a.createElement(x.a,{mt:4,display:"postgresql"===this.state.input.inputType?"block":"none"},b.a.createElement(ue,{fullWidth:!0,variant:"outlined"},b.a.createElement(oe,{error:this.state.errors.diskSize,name:"extensionsSchema",label:"Extensions Schema",onChange:function(t){return e.handleInputChanges(t)},value:this.state.input.extensionsSchema,InputProps:{endAdornment:b.a.createElement(w.a,{className:this.props.classes.selectAdornment,position:"end"},b.a.createElement(j.a,{title:'Schema hosting your extensions, if not the default "public" schema. Any enabled extensions in this input source will be enabled in this schema within your digital twins, where applicable.',placement:"right-start"},b.a.createElement(U.a,null)))}}))),b.a.createElement(x.a,{mt:4,display:this.state.input.enableSSL?"block":"none"},'Be sure to follow the "TLS/SSL Certificate Setup Instructions" included in the Agents page to facilitate connectivity using your certificates.',b.a.createElement(x.a,{mt:4},b.a.createElement(ue,{fullWidth:!0},b.a.createElement(O.a,{htmlFor:"sslMode"},"TLS/SSL Mode"),b.a.createElement(T.a,{name:"sslMode",value:this.state.input.sslMode,onChange:function(t){return e.handleInputChanges(t)}},b.a.createElement(N.a,{key:"allow",value:"allow"},"Allow"),b.a.createElement(N.a,{key:"prefer",value:"prefer"},"Prefer"),b.a.createElement(N.a,{key:"require",value:"require"},"Require"),b.a.createElement(N.a,{key:"verify-ca",value:"verify-ca"},"Verify CA"),b.a.createElement(N.a,{key:"verify-full",value:"verify-full"},"Verify Full"))))))))}},{key:"saveInputChanges",value:function(){var e=this.state,t=!1,a=this.state.inputs;if(e.input.inputName?e.errors.inputName=!1:(e.errors.inputName=!0,t=!0),e.input.inputType?e.errors.inputType=!1:(e.errors.inputType=!0,t=!0),e.input.extensionsSchema?e.errors.extensionsSchema=!1:(e.errors.extensionsSchema=!0,t=!0),t)this.setState({errors:e.errors});else{"new"===this.state.input.uuid&&(e.newInputKey++,e.input.uuid="new"+e.newInputKey,a.push(e.input));var n=!1;if(a=a.map((function(t){return t.inputName===e.input.inputName&&t.uuid!==e.input.uuid?n=!0:t.uuid===e.input.uuid&&(t.inputName=e.input.inputName,t.inputType=e.input.inputType,t.exportData=e.input.exportData,t.diskSize=e.input.diskSize,t.enableSSL=e.input.enableSSL,t.sslMode=e.input.sslMode,t.extensionsSchema=e.input.extensionsSchema),t})),n)return e.errors.JSX=b.a.createElement(pe,{mb:4,severity:"error"},"Input names must be unique."),void this.setState({errors:e.errors});e.errors.JSX=null,this.state.input.uuid.match(/^new/)?this.setState({missingInput:!1,errors:e.errors,editInputDialog:!1,newInputKey:e.newInputKey,inputs:a,saveButtonDisabled:!1}):this.setState({missingInput:!1,errors:e.errors,editInputDialog:!1,inputs:a,saveButtonDisabled:!1})}}},{key:"deleteInput",value:function(e){var t=this.state.inputs.filter((function(t){return t.uuid!==e.uuid}));this.setState({inputs:t,saveButtonDisabled:!1})}},{key:"saveChanges",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({saveButtonDisabled:!0,errors:{}}),t={inputs:this.state.inputs},e.next=5,fetch("".concat(this.context.apiUrl,"/input"),{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 5:this.setState({showSnackbar:!0}),this.refreshInputs(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("CATCH ERR",e.t0),this.setState({saveButtonDisabled:!1});case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return b.a.createElement(b.a.Fragment,null,b.a.createElement(f.a,{title:"Data Sources"}),b.a.createElement(A.a,{variant:"h1",gutterBottom:!0,display:"inline"},"Data Sources"),b.a.createElement(ie,{my:6}),b.a.createElement(x.a,{mt:4},b.a.createElement(A.a,{variant:"body1",gutterBottom:!0},"Define your data sources (i.e. databases, API inputs, etc.) here."),b.a.createElement(x.a,{mt:8},b.a.createElement(M.a,{justify:"space-between",container:!0,spacing:10},b.a.createElement(M.a,{item:!0}),b.a.createElement(M.a,{item:!0},b.a.createElement("div",null,b.a.createElement(re,{variant:"contained",color:"secondary",size:"small",onClick:function(){return e.inputDialog()}},b.a.createElement(Y.a,null),"\xa0 Add Data Source"))))),b.a.createElement(ne,{mt:8},b.a.createElement(B.a,null,b.a.createElement(q.a,null,b.a.createElement(P.a,null,b.a.createElement(R.a,null,b.a.createElement(D.a,null,"ID"),b.a.createElement(D.a,null,"Name"),b.a.createElement(D.a,null,"Input Type"),b.a.createElement(D.a,null,"Disk Space Allocation"),b.a.createElement(D.a,null,"Export Data"),b.a.createElement(D.a,null,"TLS/SSL Encrypted"),b.a.createElement(D.a,null))),b.a.createElement(W.a,null,this.state.inputs.map((function(t){return b.a.createElement(R.a,{key:t.uuid},b.a.createElement(D.a,null,t.uuid.match(/^new/)?"":t.uuid),b.a.createElement(D.a,null,t.inputName),b.a.createElement(D.a,null,t.inputType),b.a.createElement(D.a,null,t.diskSize&&t.exportData?t.diskSize+" GB":"None"),b.a.createElement(D.a,null,t.exportData?"yes":"no"),b.a.createElement(D.a,null,t.enableSSL?"yes":"no"),b.a.createElement(ce,null,b.a.createElement(re,{variant:"contained",color:"secondary",size:"small",onClick:function(){return e.inputDialog(t)}},b.a.createElement(Q.a,null),"\xa0Edit"),"\xa0",b.a.createElement(re,{variant:"contained",color:"default",size:"small",onClick:function(){return e.deleteInput(t)}},b.a.createElement(Z.a,null),"\xa0Delete")))})))),b.a.createElement(x.a,{mt:8},b.a.createElement(M.a,{container:!0,justify:"space-between"},b.a.createElement(M.a,{item:!0,xs:10},b.a.createElement(re,{variant:"contained",color:"primary",size:"large",disabled:this.state.saveButtonDisabled,onClick:function(){return e.saveChanges()}},b.a.createElement(_.a,null),"\xa0 Save Changes"))))))),b.a.createElement(H.a,{open:this.state.editInputDialog,onClose:this.hideInputDialog,maxWidth:"md","aria-labelledby":"dialog-title","aria-describedby":"dialog-description",fullWidth:!0},b.a.createElement(J.a,{id:"dialog-title"},this.state.input.inputDisplayMode," Data Source"),b.a.createElement(G.a,null,b.a.createElement(K.a,{id:"dialog-description"},this.editInputDialogContent()),b.a.createElement(V.a,null,b.a.createElement(re,{color:"secondary",variant:"contained",onClick:this.saveInputChanges},this.state.input.inputDisplayMode," Input")))),b.a.createElement(F.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:this.state.showSnackbar,autoHideDuration:8e3,onClose:this.handleSnackbarClose,ContentProps:{"aria-describedby":"message-id"},message:b.a.createElement("span",{id:"message-id"},b.a.createElement("b",null,"Your changes have been saved!")),action:[b.a.createElement(X.a,{key:"close","aria-label":"Close",color:"inherit",onClick:this.handleSnackbarClose},b.a.createElement($.a,null))]}))}}]),a}(b.a.Component);me.contextType=ae.a,t.default=Object(S.a)({selectAdornment:{marginRight:"-30px"}})(me)}}]);
//# sourceMappingURL=10.0b3497ad.chunk.js.map